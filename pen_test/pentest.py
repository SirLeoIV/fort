import datetime
import time
import requests

url = "http://localhost:8080/client"

def send_request(name, password):
    body = {
        "name": name,
        "password": password
    }
    response = requests.post(url, json=body)
    # print(response.text)

def pen_test(iterations):
    start_time = time.time()
    for i in range(iterations):
        send_request("client" + str(i), "password" + str(i))
        if i % 1000 == 0:
            print("Completed: ", i , " requests", "(" + str(i / iterations * 100) + "%)")

    end_time = time.time()
    print("Time taken: ", end_time - start_time)
    print("Requests per second: ", iterations / (end_time - start_time))

pen_test(10000)